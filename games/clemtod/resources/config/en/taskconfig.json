{
    "n_turns": 15,
    "todsystems": ["modular_llm"],
    "_todsystems": ["hetal", "xuetal", "cetal", "monolithic_llm"],
    "data_split": "dev",
    "dialogue_type": ["single"],
    "liberal_processing": true,
    "topics": ["restaurant", "hotel", "train"],
    "_topics": ["restaurant", "hotel", "train"],
    "statusmsg": {
        "welcome": "Welcome to the $domain booking bot. Let me know, how can I help you?",
        "usergoal": "Here is your goal:\nGoal:\n$goal\n\nBegin your interaction with the bot to achieve the goal.",
        "dmresponse": "$response",
        "no_booking": "The game has started. You are the first player.",
        "no_slots": "The game has ended. Thank you for playing.",
        "no_domain": "domain info is not available",
        "no_key_match": "none of the keys are matched",
        "partial_key_match": "only some of the keys are matched",
        "no_value_match": "keys are matched but none of the values are matched",
        "partial_value_match": "for some keys, values are matched",
        "unknown": "unknown error",
        "success": "Success",
        "failure": "Failure",
        "dbfetch": "DB query result",
        "invalidoperator": "Invalid value for operator. The valid operators are: =, >=, <=, >, <",
        "validatebooking": "in booking.",
        "availablecolumns": "The available columns are: $columns",
        "missing_slots": "The missing arguments are: $slots",
        "invalid_value": "The value(s) for the $slot are not matching with the booking system.",
        "booking_reference": "Your booking reference number is $refnum.",
        "nocolumnmatch": "No matching columns found in the database.",
        "novaluematch": "No matching data found in the database for the given query.",
        "nodomainmatch": "No matching domain found in the database.",
        "booking_failure": "Cannot proceed with the booking.",
        "multiple_entries": "Multiple entries found in the database.",
        "few_db_matching_records": "More matching database records are available. Here are the first five.",
        "all_db_matching_records": "These are all the matching database records.",
        "missing_other_slots_booking": "The booking system needs additional details [$slots] to proceed with the booking."
    },

    "booking_mandatory_keys": {
        "restaurant": ["name", "people", "day", "time"],
        "hotel": ["name", "people", "day", "stay"],
        "train": ["people", "trainid"]
    },

    "json_schema": {
        "type": "function",
        "function": {
            "name": "process_dsystem",
            "description": "Extract structured details for restaurant, hotel, or train-related queries.",
            "parameters": {
                "type": "object",
                "properties": {
                    "status": { "type": "string", "enum": ["follow-up", "db-query", "validate-booking"],
                              "description": "Defines the type of action. Possible values: 'follow-up' (requires a response), 'db-query' (fetches data from a database), 'validate-booking' (checks booking status)."
                    },
                    "details": {
                        "type": "object",
                        "description": "Details for the status. One of the following types: 'FollowUpDetails', 'DBQueryDetails', 'ValidateBookingDetails'.",
                        "oneOf": [
                            {
                                "type": "string",  "title": "FollowUpDetails",
                                "description": "Details for a follow-up action, containing a message." 
                            },
                            {
                                "type": "object", "title": "DBQueryDetails",
                                "description": "Details for a database query action.",
                                "oneOf": [
                                    {
                                        "properties": {
                                            "domain": { "const": "restaurant" },
                                            "restaurant": {
                                                "type": "object",
                                                "anyOf": [
                                                    {
                                                        "properties": {
                                                            "food": { "type": "string" }
                                                        },
                                                        "required": ["food"]
                                                    },     
                                                    {
                                                        "properties": {
                                                            "area": { "type": "string", "enum": ["centre", "north", "east", "west", "south"]  }
                                                        },
                                                        "required": ["area"]
                                                    },                                                                                     
                                                    {
                                                        "properties": {
                                                            "pricerange": { "type": "string",
                                                                    "enum": ["cheap", "moderate", "expensive"] }
                                                        },
                                                        "required": ["pricerange"]
                                                    },  
                                                    {
                                                        "properties": {
                                                            "name": { "type": "string"}
                                                        },
                                                        "required": ["name"]
                                                    }                                                                                
                                                ]
                                            }                                            
                                        },
                                        "required": ["domain", "restaurant"],
                                        "additionalProperties": false
                                    },
                                    {
                                        "properties": {
                                            "domain": { "const": "hotel" },
                                            "hotel": {
                                                "type": "object",
                                                "anyOf": [
                                                    {
                                                        "properties": {
                                                            "area": { "type": "string", "enum": ["centre", "north", "east", "west", "south"] }
                                                        },
                                                        "required": ["area"]
                                                    },     
                                                    {
                                                        "properties": {
                                                            "pricerange": { "type": "string", "enum": ["cheap", "moderate", "expensive"] }
                                                        },
                                                        "required": ["pricerange"]
                                                    },    
                                                    {
                                                        "properties": {
                                                            "type": { "type": "string", "enum": ["hotel", "guesthouse"] }
                                                        },
                                                        "required": ["type"]
                                                    },
                                                    {
                                                        "properties": {
                                                            "internet": { "type": "string", "enum": ["yes", "no"] }
                                                        },
                                                        "required": ["internet"]
                                                    }, 
                                                    {
                                                        "properties": {
                                                            "parking": { "type": "string", "enum": ["yes", "no"] }
                                                        },
                                                        "required": ["parking"]
                                                    },
                                                    {
                                                        "properties": {
                                                            "name": { "type": "string"}
                                                        },
                                                        "required": ["name"]
                                                    }, 
                                                    {
                                                        "properties": {
                                                            "stars": {
                                                                "type": "object",
                                                                "properties": {
                                                                    "operator": { "type": "string", "enum": ["=", ">=", "<=", ">", "<"] },
                                                                    "value": { "type": "string", "enum": ["1", "2", "3", "4", "5"] }
                                                                },
                                                                "required": ["operator", "value"],
                                                                "additionalProperties": false
                                                            }
                                                        },
                                                        "required": ["stars"]
                                                    }                                                                                  
                                                ]
                                            }
                                        },
                                        "required": ["domain", "hotel"],
                                        "additionalProperties": false
                                    },
                                    {
                                        "properties": {
                                            "domain": { "const": "train" },
                                            "train": {
                                                "type": "object",
                                                "anyOf": [
                                                    {
                                                        "properties": {
                                                            "destination": { "type": "string" }
                                                        },
                                                        "required": ["destination"]
                                                    },     
                                                    {
                                                        "properties": {
                                                            "departure": { "type": "string" }
                                                        },
                                                        "required": ["departure"]
                                                    },                                                                                     
                                                    {
                                                        "properties": {
                                                            "day": { "type": "string",
                                                                    "enum": ["monday", "tuesday", "wednesday", "thursday", "friday", "saturday", "sunday"] }
                                                        },
                                                        "required": ["day"]
                                                    },  
                                                    {
                                                        "properties": {
                                                            "arriveby": {
                                                                "type": "object",
                                                                "properties": {
                                                                    "operator": { "type": "string", "enum": ["=", ">=", "<=", ">", "<"],
                                                                                "description": "A comparison operator indicating the condition (e.g., '<=' means arriving by or before a time)."
                                                                    },
                                                                    "value": { "type": "string", "pattern": "^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$",
                                                                            "description": "A time string formatted as HH:MM (24-hour format)."
                                                                    }
                                                                },
                                                                "required": ["operator", "value"],
                                                                "additionalProperties": false
                                                            }
                                                        },
                                                        "required": ["arriveby"]
                                                    },   
                                                    {
                                                        "properties": {
                                                            "leaveat": {
                                                                "type": "object",
                                                                "properties": {
                                                                    "operator": { "type": "string", "enum": ["=", ">=", "<=", ">", "<"],
                                                                                "description": "A comparison operator indicating the condition (e.g., '<=' means departing by or before a time)."
                                                                    },
                                                                    "value": { "type": "string", "pattern": "^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$",
                                                                            "description": "A time string formatted as HH:MM (24-hour format)."
                                                                    }
                                                                },
                                                                "required": ["operator", "value"],
                                                                "additionalProperties": false
                                                            }
                                                        },
                                                        "required": ["leaveat"]
                                                    }                                                                                      
                                                ]
                                            }
                                        },
                                        "required": ["domain", "train"],
                                        "additionalProperties": false
                                    }
                                ]                  
                            },
                            {
                                "type": "object", "title": "ValidateBookingDetails",
                                "description": "Details for validating a booking status.",
                                "oneOf": [
                                    {
                                        "properties": {
                                            "domain": { "const": "restaurant" },
                                            "restaurant": {
                                                "type": "object",
                                                "properties": {
                                                    "food": { "type": "string" },
                                                    "area": { "type": "string", "enum": ["centre", "north", "east", "west", "south"] },
                                                    "pricerange": { "type": "string", "enum": ["cheap", "moderate", "expensive"] },
                                                    "name": { "type": "string" },
                                                    "people": { "type": "string", "enum": ["1", "2", "3", "4", "5", "6", "7", "8"]},
                                                    "day": { "type": "string", "enum": ["monday", "tuesday", "wednesday", "thursday", "friday", "saturday", "sunday"] },
                                                    "time": { "type": "string", "pattern": "^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$" },
                                                    "phone": { "type": "string"},
                                                    "postcode": { "type": "string"},
                                                    "address": { "type": "string"}
                                                },
                                                "required": ["food", "area", "pricerange", "name", "people", "day", "time"],
                                                "additionalProperties": false
                                            }
                                        },
                                        "required": ["domain", "restaurant"],
                                        "additionalProperties": false
                                    },
                                    {
                                        "properties": {
                                            "domain": { "const": "hotel" },
                                            "hotel": {
                                                "type": "object",
                                                "properties": {
                                                    "area": { "type": "string" , "enum": ["centre", "north", "east", "west", "south"] },
                                                    "pricerange": { "type": "string", "enum": ["cheap", "moderate", "expensive"]},
                                                    "type": { "type": "string", "enum": ["hotel", "guesthouse"] },                                  
                                                    "internet": { "type": "string", "enum": ["yes", "no"] },
                                                    "parking": { "type": "string", "enum": ["yes", "no"] },
                                                    "name": { "type": "string"},
                                                    "stars": {"type": "string", "enum": ["1", "2", "3", "4", "5"]},
                                                    "people": { "type": "string", "enum": ["1", "2", "3", "4", "5", "6", "7", "8"] },
                                                    "day": { "type": "string", "enum": ["monday", "tuesday", "wednesday", "thursday", "friday", "saturday", "sunday"] },
                                                    "stay": { "type": "string", "enum": ["1", "2", "3", "4", "5", "6", "7", "8"] },
                                                    "phone": { "type": "string"},
                                                    "postcode": { "type": "string"},
                                                    "address": { "type": "string"}
                                                },
                                                "required": ["area", "pricerange", "type", "internet", "parking", "name", "stars", "people", "day", "stay"],
                                                "additionalProperties": false
                                            }                                            
                                        },
                                        "required": ["domain", "hotel"],
                                        "additionalProperties": false
                                    },
                                    {
                                        "properties": {
                                            "domain": { "const": "train" },
                                            "train": {
                                                "type": "object",
                                                "properties": {
                                                    "destination": { "type": "string"},
                                                    "departure": { "type": "string"},
                                                    "day": { "type": "string", "enum": ["monday", "tuesday", "wednesday", "thursday", "friday", "saturday", "sunday"] },
                                                    "arriveby": {"type": "string", "pattern": "^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$" },
                                                    "leaveat": {"type": "string", "pattern": "^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$" },
                                                    "people": { "type": "string", "enum": ["1", "2", "3", "4", "5", "6", "7", "8"] },
                                                    "trainid": { "type": "string"}
                                                },
                                                "required": ["destination", "departure", "day", "arriveby", "leaveat", "people", "trainid"],
                                                "additionalProperties": false
                                            }
                                        }
                                    }
                                ]                            
                            }
                        ]             
                    }
                },
                "required": ["status", "details"],
                "additionalProperties": false
            }
        }
    }
}
